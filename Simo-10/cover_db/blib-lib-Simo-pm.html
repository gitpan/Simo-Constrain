<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 0.64
Devel::Cover is copyright 2001-2006, Paul Johnson (pjcj@cpan.org)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: blib/lib/Simo.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">blib/lib/Simo.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c1">84.9%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>pod</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">package Simo;</td></tr>
<tr><td class="h">2</td><td><div class="c3">12</div><div class="c3">12</div><div class="c3">12</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L2">12</a></div></td><td></td><td><div>0</div><div>0</div><div>0</div></td><td class="s">use strict;</td></tr>
<tr><td class="h">3</td><td><div class="c3">12</div><div class="c3">12</div><div class="c3">11</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L3">11</a></div></td><td></td><td><div>0</div><div>0</div><div>0</div></td><td class="s">use warnings;</td></tr>
<tr><td class="h">4</td><td><div class="c3">11</div><div class="c3">12</div><div class="c3">11</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L4">11</a></div></td><td></td><td><div>0</div><div>0</div><div>0</div></td><td class="s">use Carp;</td></tr>
<tr><td class="h">5</td><td colspan="7"></td></tr><tr><td class="h">6</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our $VERSION = &#39;0.05_05&#39;;</td></tr>
<tr><td class="h">7</td><td colspan="7"></td></tr><tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub import{</td></tr>
<tr><td class="h">9</td><td><div class="c3">24</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L9">24</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $caller_pkg = caller;</td></tr>
<tr><td class="h">10</td><td colspan="7"></td></tr><tr><td class="h">11</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">12</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# export function</td></tr>
<tr><td class="h">13</td><td><div class="c3">11</div><div class="c3">11</div><div class="c3">11</div><div class="c3">24</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L13">11</a></div></td><td></td><td><div>0</div><div>0</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no strict &#39;refs&#39;;</td></tr>
<tr><td class="h">14</td><td><div class="c3">24</div><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*{ &quot;${caller_pkg}::ac&quot; } = \&amp;Simo::ac;</td></tr>
<tr><td class="h">15</td><td colspan="7"></td></tr><tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# caller inherit Simo</td></tr>
<tr><td class="h">17</td><td><div class="c3">24</div><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push @{ &quot;${caller_pkg}::ISA&quot; }, __PACKAGE__;</td></tr>
<tr><td class="h">18</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">19</td><td colspan="7"></td></tr><tr><td class="h">20</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# auto strict and warnings</td></tr>
<tr><td class="h">21</td><td><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;strict-&gt;import;</td></tr>
<tr><td class="h">22</td><td><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;warnings-&gt;import;</td></tr>
<tr><td class="h">23</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">24</td><td colspan="7"></td></tr><tr><td class="h">25</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub new{</td></tr>
<tr><td class="h">26</td><td><div class="c3">26</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L26">26</a></div></td><td><div class="c3">1</div></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $proto, @args ) = @_;</td></tr>
<tr><td class="h">27</td><td colspan="7"></td></tr><tr><td class="h">28</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# check args</td></tr>
<tr><td class="h">29</td><td><div class="c3">26</div><div class="c3">1</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L29">100</a></div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;@args = %{ $args[0] } if ref $args[0] eq &#39;HASH&#39;;</td></tr>
<tr><td class="h">30</td><td><div class="c3">26</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L30">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;croak &#39;key-value pairs must be passed to new method&#39; if @args % 2;</td></tr>
<tr><td class="h">31</td><td colspan="7"></td></tr><tr><td class="h">32</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# bless</td></tr>
<tr><td class="h">33</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $self = {};</td></tr>
<tr><td class="h">34</td><td><div class="c3">25</div></td><td></td><td><div class="c0"><a href="blib-lib-Simo-pm--condition.html#L34">33</a></div></td><td></td><td></td><td><div>10000</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $pkg = ref $proto || $proto;</td></tr>
<tr><td class="h">35</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;bless $self, $pkg;</td></tr>
<tr><td class="h">36</td><td colspan="7"></td></tr><tr><td class="h">37</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# set args</td></tr>
<tr><td class="h">38</td><td><div class="c3">25</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while( my ( $attr, $val ) = splice( @args, 0, 2 ) ){</td></tr>
<tr><td class="h">39</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L39">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak &quot;Invalid key &#39;$attr&#39; is passed to ${pkg}::new&quot; unless $self-&gt;can( $attr );</td></tr>
<tr><td class="h">40</td><td><div class="c3">11</div><div class="c3">11</div><div class="c3">11</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L40">11</a></div></td><td></td><td><div>10000</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no strict &#39;refs&#39;;</td></tr>
<tr><td class="h">41</td><td><div class="c3">7</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;$attr( $val );</td></tr>
<tr><td class="h">42</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">43</td><td><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $self;</td></tr>
<tr><td class="h">44</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">45</td><td colspan="7"></td></tr><tr><td class="h">46</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># accessor option</td></tr>
<tr><td class="h">47</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our $AC_OPT = {};</td></tr>
<tr><td class="h">48</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our %VALID_AC_OPT = map{ $_ =&gt; 1 } qw( default constrain filter trigger set_hook get_hook hash_force read_only );</td></tr>
<tr><td class="h">49</td><td colspan="7"></td></tr><tr><td class="h">50</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># create accessor</td></tr>
<tr><td class="h">51</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub ac(@){</td></tr>
<tr><td class="h">52</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# Simo process</td></tr>
<tr><td class="h">53</td><td><div class="c3">40</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L53">40</a></div></td><td><div class="c3">1</div></td><td><div>20001</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $attr, @vals ) = _SIMO_process( @_ );</td></tr>
<tr><td class="h">54</td><td colspan="7"></td></tr><tr><td class="h">55</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# call accessor</td></tr>
<tr><td class="h">56</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;$attr( @vals );</td></tr>
<tr><td class="h">57</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">58</td><td colspan="7"></td></tr><tr><td class="h">59</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># Simo process. register accessor option and create accessor.</td></tr>
<tr><td class="h">60</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _SIMO_process{</td></tr>
<tr><td class="h">61</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# accessor info</td></tr>
<tr><td class="h">62</td><td><div class="c3">40</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L62">40</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, $attr, $pkg, @vals ) = _SIMO_get_ac_info();</td></tr>
<tr><td class="h">63</td><td colspan="7"></td></tr><tr><td class="h">64</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# check and rearrange accessor option;</td></tr>
<tr><td class="h">65</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>10001</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $ac_opt = {};</td></tr>
<tr><td class="h">66</td><td colspan="7"></td></tr><tr><td class="h">67</td><td><div class="c3">40</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L67">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$ac_opt-&gt;{ default } = shift if @_ % 2;</td></tr>
<tr><td class="h">68</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $hook_options_exist = {};</td></tr>
<tr><td class="h">69</td><td colspan="7"></td></tr><tr><td class="h">70</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;while( my( $key, $val ) = splice( @_, 0, 2 ) ){</td></tr>
<tr><td class="h">71</td><td><div class="c3">36</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L71">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;croak &quot;$key of ${pkg}::$attr is invalid accessor option&quot; </td></tr>
<tr><td class="h">72</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless $VALID_AC_OPT{ $key };</td></tr>
<tr><td class="h">73</td><td colspan="7"></td></tr><tr><td class="h">74</td><td><div class="c3">35</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L74">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carp &quot;${pkg}::$attr : $@&quot; </td></tr>
<tr><td class="h">75</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless _SIMO_check_hook_options_order( $key, $hook_options_exist );</td></tr>
<tr><td class="h">76</td><td colspan="7"></td></tr><tr><td class="h">77</td><td><div class="c3">35</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ac_opt-&gt;{ $key } = $val;</td></tr>
<tr><td class="h">78</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">79</td><td colspan="7"></td></tr><tr><td class="h">80</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# register accessor option</td></tr>
<tr><td class="h">81</td><td><div class="c3">39</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$AC_OPT-&gt;{ $pkg }{ $attr } = $ac_opt;</td></tr>
<tr><td class="h">82</td><td colspan="7"></td></tr><tr><td class="h">83</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# create accessor</td></tr>
<tr><td class="h">84</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;{</td></tr>
<tr><td class="h">85</td><td><div class="c3">11</div><div class="c3">11</div><div class="c3">11</div><div class="c3">39</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L85">11</a></div></td><td></td><td><div>0</div><div>0</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no warnings &#39;redefine&#39;;</td></tr>
<tr><td class="h">86</td><td><div class="c3">39</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $code = _SIMO_create_accessor( $pkg, $attr );</td></tr>
<tr><td class="h">87</td><td><div class="c3">36</div><div class="c3">5</div><div class="c3">5</div><div class="c3">5</div><div class="c3">2</div><div class="c3">2</div><div class="c3">3</div><div class="c3">9</div><div class="c3">9</div><div class="c3">5</div><div class="c3">9</div><div class="c3">9</div><div class="c3">5</div><div class="c3">4</div><div class="c3">8</div><div class="c3">3</div><div class="c3">3</div><div class="c3">3</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c3">2</div><div class="c3">2</div><div class="c3">3</div><div class="c3">2</div><div class="c3">2</div><div class="c3">3</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">3</div><div class="c3">3</div><div class="c3">1</div><div class="c3">3</div><div class="c3">3</div><div class="c3">1</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">3</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">23</div><div class="c3">23</div><div class="c3">21</div><div class="c3">14</div><div class="c3">14</div><div class="c3">15</div><div class="c3">8</div><div class="c3">16</div><div class="c3">9</div><div class="c3">5</div><div class="c3">5</div><div class="c3">9</div><div class="c3">3</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c0">0</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c0">0</div><div class="c0">0</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">4</div><div class="c3">4</div><div class="c3">3</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">1</div><div class="c3">1</div><div class="c3">2</div><div class="c3">2</div><div class="c3">1</div><div class="c3">2</div></td><td><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/F"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c0" title="-/-"><a href="blib-lib-Simo-pm--branch.html#L87">0</a></div><div class="c0" title="T/-"><a href="blib-lib-Simo-pm--branch.html#L87">50</a></div><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L87">100</a></div></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">5</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">10</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">3</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">3</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">1</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">1</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">23</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">9</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">1</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">1</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L87">2</a></div></td><td></td><td><div>20000</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>10000</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval&quot;sub ${pkg}::${attr} $code&quot;;</td></tr>
<tr><td class="h">88</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">89</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ( $self, $attr, @vals );</td></tr>
<tr><td class="h">90</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">91</td><td colspan="7"></td></tr><tr><td class="h">92</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># check hook option order ( constrain, filter, and trigger )</td></tr>
<tr><td class="h">93</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">our %VALID_HOOK_OPT = ( constrain =&gt; 1, filter =&gt; 2, trigger =&gt; 3 );</td></tr>
<tr><td class="h">94</td><td colspan="7"></td></tr><tr><td class="h">95</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _SIMO_check_hook_options_order{</td></tr>
<tr><td class="h">96</td><td><div class="c3">35</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L96">35</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $key, $hook_options_exist ) = @_;</td></tr>
<tr><td class="h">97</td><td colspan="7"></td></tr><tr><td class="h">98</td><td><div class="c3">35</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L98">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return 1 unless $VALID_HOOK_OPT{ $key };</td></tr>
<tr><td class="h">99</td><td colspan="7"></td></tr><tr><td class="h">100</td><td><div class="c3">23</div><div class="c3">23</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;foreach my $hook_option_exist ( keys %{ $hook_options_exist } ){</td></tr>
<tr><td class="h">101</td><td><div class="c3">6</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L101">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( $VALID_HOOK_OPT{ $key } &lt; $VALID_HOOK_OPT{ $hook_option_exist } ){</td></tr>
<tr><td class="h">102</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$@ = &quot;$key option should be appear before $hook_option_exist option&quot;;</td></tr>
<tr><td class="h">103</td><td><div class="c3">3</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</td></tr>
<tr><td class="h">104</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">105</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">106</td><td><div class="c3">20</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$hook_options_exist-&gt;{ $key } = 1;</td></tr>
<tr><td class="h">107</td><td><div class="c3">20</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return 1;</td></tr>
<tr><td class="h">108</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">109</td><td colspan="7"></td></tr><tr><td class="h">110</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># create accessor.</td></tr>
<tr><td class="h">111</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _SIMO_create_accessor{</td></tr>
<tr><td class="h">112</td><td><div class="c3">39</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L112">39</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $pkg, $attr ) = @_;</td></tr>
<tr><td class="h">113</td><td colspan="7"></td></tr><tr><td class="h">114</td><td><div class="c3">39</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $read_only = $AC_OPT-&gt;{ $pkg }{ $attr }{ read_only };</td></tr>
<tr><td class="h">115</td><td colspan="7"></td></tr><tr><td class="h">116</td><td><div class="c3">39</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L116">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( $read_only ){</td></tr>
<tr><td class="h">117</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $attr_org = $attr;</td></tr>
<tr><td class="h">118</td><td><div class="c3">2</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L118">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( $attr =~ s/get_// ){</td></tr>
<tr><td class="h">119</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$AC_OPT-&gt;{ $pkg }{ $attr } = delete $AC_OPT-&gt;{ $pkg }{ $attr_org }</td></tr>
<tr><td class="h">120</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">121</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else{</td></tr>
<tr><td class="h">122</td><td><div class="c3">1</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::carp( &quot;Read only method should be contain &#39;get_&#39; in accessor name&quot; )</td></tr>
<tr><td class="h">123</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">124</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">125</td><td colspan="7"></td></tr><tr><td class="h">126</td><td><div class="c3">39</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $e =</td></tr>
<tr><td class="h">127</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/{\n/ .</td></tr>
<tr><td class="h">128</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# arg recieve</td></tr>
<tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    my ( \$self, \@vals ) = \@_;\n\n/;</td></tr>
<tr><td class="h">130</td><td colspan="7"></td></tr><tr><td class="h">131</td><td><div class="c3">39</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L131">100</a></div></td><td></td><td></td><td></td><td><div>10001</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( defined $AC_OPT-&gt;{ $pkg }{ $attr }{ default } ){</td></tr>
<tr><td class="h">132</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# default value</td></tr>
<tr><td class="h">133</td><td><div class="c3">13</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">134</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    if( ! exists( \$self-&gt;{ $attr } ) ){\n/ .</td></tr>
<tr><td class="h">135</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        \$self-&gt;{ $attr } = \$AC_OPT-&gt;{ $pkg }{ $attr }{ default };\n/ .</td></tr>
<tr><td class="h">136</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    }\n/ .</td></tr>
<tr><td class="h">137</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    \n/;</td></tr>
<tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">139</td><td colspan="7"></td></tr><tr><td class="h">140</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# get value</td></tr>
<tr><td class="h">141</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">142</td><td><div class="c3">39</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    my \$ret = \$self-&gt;{ $attr };\n\n/;</td></tr>
<tr><td class="h">143</td><td colspan="7"></td></tr><tr><td class="h">144</td><td colspan="7"></td></tr><tr><td class="h">145</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# read only</td></tr>
<tr><td class="h">146</td><td><div class="c3">39</div><div class="c3">2</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L146">100</a></div></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( $read_only ){ goto END_SET_PROCESS }</td></tr>
<tr><td class="h">147</td><td colspan="7"></td></tr><tr><td class="h">148</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">149</td><td><div class="c3">37</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    if( \@vals ){\n/ .</td></tr>
<tr><td class="h">150</td><td colspan="7"></td></tr><tr><td class="h">151</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# rearrange value</td></tr>
<tr><td class="h">152</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        my \$val = \@vals == 1 ? \$vals[0] :\n/;</td></tr>
<tr><td class="h">153</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .= $AC_OPT-&gt;{ $pkg }{ $attr }{ hash_force } ?</td></tr>
<tr><td class="h">154</td><td><div class="c3">37</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L154">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/                  \@vals &gt;= 2 ? { \@vals } :\n/ :</td></tr>
<tr><td class="h">155</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/                  \@vals &gt;= 2 ? [ \@vals ] :\n/;</td></tr>
<tr><td class="h">156</td><td><div class="c3">37</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">157</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/                  undef;\n\n/;</td></tr>
<tr><td class="h">158</td><td colspan="7"></td></tr><tr><td class="h">159</td><td><div class="c3">37</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L159">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( defined $AC_OPT-&gt;{ $pkg }{ $attr }{ set_hook } ){</td></tr>
<tr><td class="h">160</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# set_hook option</td></tr>
<tr><td class="h">161</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">162</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        eval{ \$val = \$AC_OPT-&gt;{ $pkg }{ $attr }{ set_hook }-&gt;( \$self, \$val ) };\n/ .</td></tr>
<tr><td class="h">163</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        Carp::confess( \$@ ) if \$@;\n\n/;</td></tr>
<tr><td class="h">164</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">165</td><td colspan="7"></td></tr><tr><td class="h">166</td><td><div class="c3">37</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L166">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( defined $AC_OPT-&gt;{ $pkg }{ $attr }{ constrain } ){</td></tr>
<tr><td class="h">167</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# constrain option</td></tr>
<tr><td class="h">168</td><td colspan="7"></td></tr><tr><td class="h">169</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$AC_OPT-&gt;{ $pkg }{ $attr }{ constrain } = [ $AC_OPT-&gt;{ $pkg }{ $attr }{ constrain } ] </td></tr>
<tr><td class="h">170</td><td><div class="c3">9</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L170">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ref $AC_OPT-&gt;{ $pkg }{ $attr }{ constrain } eq &#39;ARRAY&#39;;</td></tr>
<tr><td class="h">171</td><td colspan="7"></td></tr><tr><td class="h">172</td><td><div class="c3">9</div><div class="c3">9</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $constrain ( @{ $AC_OPT-&gt;{ $pkg }{ $attr }{ constrain } } ){</td></tr>
<tr><td class="h">173</td><td><div class="c3">10</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L173">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::croak( &quot;constrain of ${pkg}::$attr must be code ref&quot; )</td></tr>
<tr><td class="h">174</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ref $constrain eq &#39;CODE&#39;;</td></tr>
<tr><td class="h">175</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">176</td><td colspan="7"></td></tr><tr><td class="h">177</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">178</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        foreach my \$constrain ( \@{ \$AC_OPT-&gt;{ $pkg }{ $attr }{ constrain } } ){\n/ .</td></tr>
<tr><td class="h">179</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            local \$_ = \$val;\n/ .</td></tr>
<tr><td class="h">180</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            my \$ret = \$constrain-&gt;( \$val );\n/ .</td></tr>
<tr><td class="h">181</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            Carp::croak( &quot;Illegal value \$val is passed to ${pkg}::$attr&quot; )\n/ .</td></tr>
<tr><td class="h">182</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/                unless \$ret;\n/ .</td></tr>
<tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        }\n\n/;</td></tr>
<tr><td class="h">184</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">185</td><td colspan="7"></td></tr><tr><td class="h">186</td><td><div class="c3">36</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L186">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( defined $AC_OPT-&gt;{ $pkg }{ $attr }{ filter } ){</td></tr>
<tr><td class="h">187</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# filter option</td></tr>
<tr><td class="h">188</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$AC_OPT-&gt;{ $pkg }{ $attr }{ filter } = [ $AC_OPT-&gt;{ $pkg }{ $attr }{ filter } ] </td></tr>
<tr><td class="h">189</td><td><div class="c3">7</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L189">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ref $AC_OPT-&gt;{ $pkg }{ $attr }{ filter } eq &#39;ARRAY&#39;;</td></tr>
<tr><td class="h">190</td><td colspan="7"></td></tr><tr><td class="h">191</td><td><div class="c3">7</div><div class="c3">7</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $filter ( @{ $AC_OPT-&gt;{ $pkg }{ $attr }{ filter } } ){</td></tr>
<tr><td class="h">192</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L192">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::croak( &quot;filter of ${pkg}::$attr must be code ref&quot; )</td></tr>
<tr><td class="h">193</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ref $filter eq &#39;CODE&#39;;</td></tr>
<tr><td class="h">194</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">195</td><td colspan="7"></td></tr><tr><td class="h">196</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">197</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        foreach my \$filter ( \@{ \$AC_OPT-&gt;{ $pkg }{ $attr }{ filter } } ){\n/ .</td></tr>
<tr><td class="h">198</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            local \$_ = \$val;\n/ .</td></tr>
<tr><td class="h">199</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            \$val = \$filter-&gt;( \$val );\n/ .</td></tr>
<tr><td class="h">200</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        }\n\n/;</td></tr>
<tr><td class="h">201</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">202</td><td colspan="7"></td></tr><tr><td class="h">203</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;# set value</td></tr>
<tr><td class="h">204</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">205</td><td><div class="c3">35</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        \$self-&gt;{ $attr } = \$val;\n\n/;</td></tr>
<tr><td class="h">206</td><td colspan="7"></td></tr><tr><td class="h">207</td><td><div class="c3">35</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L207">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( defined $AC_OPT-&gt;{ $pkg }{ $attr }{ trigger } ){</td></tr>
<tr><td class="h">208</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$AC_OPT-&gt;{ $pkg }{ $attr }{ trigger } = [ $AC_OPT-&gt;{ $pkg }{ $attr }{ trigger } ]</td></tr>
<tr><td class="h">209</td><td><div class="c3">7</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L209">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ref $AC_OPT-&gt;{ $pkg }{ $attr }{ trigger } eq &#39;ARRAY&#39;;</td></tr>
<tr><td class="h">210</td><td colspan="7"></td></tr><tr><td class="h">211</td><td><div class="c3">7</div><div class="c3">7</div></td><td></td><td></td><td></td><td></td><td><div>0</div><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach my $trigger ( @{ $AC_OPT-&gt;{ $pkg }{ $attr }{ trigger } } ){</td></tr>
<tr><td class="h">212</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L212">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carp::croak( &quot;trigger of ${pkg}::$attr must be code ref&quot; )</td></tr>
<tr><td class="h">213</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless ref $trigger eq &#39;CODE&#39;;</td></tr>
<tr><td class="h">214</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">215</td><td colspan="7"></td></tr><tr><td class="h">216</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# trigger option</td></tr>
<tr><td class="h">217</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">218</td><td><div class="c3">6</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        foreach my \$trigger ( \@{ \$AC_OPT-&gt;{ $pkg }{ $attr }{ trigger } } ){\n/ .</td></tr>
<tr><td class="h">219</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            local \$_ = \$self;\n/ .</td></tr>
<tr><td class="h">220</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/            \$trigger-&gt;( \$self );\n/ .</td></tr>
<tr><td class="h">221</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/        }\n/;</td></tr>
<tr><td class="h">222</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">223</td><td colspan="7"></td></tr><tr><td class="h">224</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">225</td><td><div class="c3">34</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    }\n/;</td></tr>
<tr><td class="h">226</td><td colspan="7"></td></tr><tr><td class="h">227</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;END_SET_PROCESS:</td></tr>
<tr><td class="h">228</td><td colspan="7"></td></tr><tr><td class="h">229</td><td><div class="c3">36</div></td><td><div class="c3" title="T/F"><a href="blib-lib-Simo-pm--branch.html#L229">100</a></div></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;if( defined $AC_OPT-&gt;{ $pkg }{ $attr }{ get_hook } ){</td></tr>
<tr><td class="h">230</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# get_hook option</td></tr>
<tr><td class="h">231</td><td><div class="c3">2</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">232</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    eval{ \$ret = \$AC_OPT-&gt;{ $pkg }{ $attr }{ get_hook }-&gt;( \$self, \$ret ) };\n/ .</td></tr>
<tr><td class="h">233</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    Carp::confess( \$@ ) if \$@;\n/;</td></tr>
<tr><td class="h">234</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">235</td><td colspan="7"></td></tr><tr><td class="h">236</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;#return</td></tr>
<tr><td class="h">237</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;$e .=</td></tr>
<tr><td class="h">238</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/    return \$ret;\n/ .</td></tr>
<tr><td class="h">239</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qq/}\n/;</td></tr>
<tr><td class="h">240</td><td colspan="7"></td></tr><tr><td class="h">241</td><td><div class="c3">36</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return $e;</td></tr>
<tr><td class="h">242</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">243</td><td colspan="7"></td></tr><tr><td class="h">244</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># Helper to get acsessor info;</td></tr>
<tr><td class="h">245</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _SIMO_get_ac_info {</td></tr>
<tr><td class="h">246</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;package DB;</td></tr>
<tr><td class="h">247</td><td><div class="c3">40</div></td><td></td><td></td><td><div class="c3"><a href="blib-lib-Simo-pm--subroutine.html#L247">40</a></div></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my @caller = caller 3;</td></tr>
<tr><td class="h">248</td><td colspan="7"></td></tr><tr><td class="h">249</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $self, @vals ) = @DB::args;</td></tr>
<tr><td class="h">250</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my $sub = $caller[ 3 ];</td></tr>
<tr><td class="h">251</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;my ( $pkg, $attr ) = $sub =~ /^(.*)::(.+)$/;</td></tr>
<tr><td class="h">252</td><td colspan="7"></td></tr><tr><td class="h">253</td><td><div class="c3">40</div></td><td></td><td></td><td></td><td></td><td><div>0</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;return ( $self, $attr, $pkg, @vals );</td></tr>
<tr><td class="h">254</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">255</td><td colspan="7"></td></tr><tr><td class="h">256 - 264</td><td colspan="6"></td><td class="s"><pre>=head1 NAME

Simo - Very simple framework for Object Oriented Perl.

=head1 VERSION

Version 0.05_05

=cut</pre></td></tr>
<tr><td class="h">265</td><td colspan="7"></td></tr><tr><td class="h">266 - 287</td><td colspan="6"></td><td class="s"><pre>=head1 FEATURES

Simo is framework that simplify Object Oriented Perl.

The feature is that

=over 4

=item 1. You can define accessors in very simple way.

=item 2. Overridable new method is prepared.

=item 3. You can define default value of attribute.

=item 4. Simo is very small. so You can install and excute it very fast.

=back

If you use Simo, you are free from bitter work 
writing new and accessors repeatedly.

=cut</pre></td></tr>
<tr><td class="h">288</td><td colspan="7"></td></tr><tr><td class="h">289 - 322</td><td colspan="6"></td><td class="s"><pre>=head1 SYNOPSIS

=head2 Define class and accessors.

    package Book;
    use Simo;
    
    # define accessors
    sub title{ ac }
    
    # define default value
    sub author{ ac default =&gt; &#39;Kimoto&#39; }
    
    # define constrain subroutine
    sub price{ ac constrain =&gt; sub{ /^\d+$/ } } # price must be integer.

    # define filter subroutine
    sub description{ ac filter =&gt; sub{ uc } } # convert to upper case.

    # define trigger subroutine
    sub issue_datetime{ ac trigger =&gt; \&amp;update_issue_date }
    sub issue_date{ ac } # if issue_datetime is updated, issue_date is updated.
    
    sub update_issue_date{
        my $self = shift;
        my $date = substr( $self-&gt;issue_datetime, 0, 10 );
        $self-&gt;issue_date( $date );
    }
    
    # read only accessor
    sub get_size{ ac default =&gt; 5, read_only =&gt; 1 }
    
    1;
=cut</pre></td></tr>
<tr><td class="h">323</td><td colspan="7"></td></tr><tr><td class="h">324 - 352</td><td colspan="6"></td><td class="s"><pre>=head2 Using class and accessors

    use strict;
    use warnings;
    use Book;

    # create object
    my $book = Book-&gt;new( title =&gt; &#39;OO tutorial&#39; );

    # get attribute
    my $author = $book-&gt;author;

    # set attribute
    $book-&gt;author( &#39;Ken&#39; );

    # constrain( If try to set illegal value, this call will die )
    $book-&gt;price( &#39;a&#39; ); 

    # filter ( convert to &#39;IT IS USEFUL&#39; )
    $book-&gt;description( &#39;It is useful&#39; );

    # trigger( issue_date is updated &#39;2009-01-01&#39; )
    $book-&gt;issue_datetime( &#39;2009-01-01 12:33:45&#39; );
    my $issue_date = $book-&gt;issue_date;
    
    # read only accessor
    $book-&gt;get_size;

=cut</pre></td></tr>
<tr><td class="h">353</td><td colspan="7"></td></tr><tr><td class="h">354 - 368</td><td colspan="6"></td><td class="s"><pre>=head1 DESCRIPTION

=head2 Define class and accessors

You can define class and accessors in simple way.

new method is automatically created, and title accessor is defined.

    package Book;
    use Simo;

    sub title{ ac }
    1;

=cut</pre></td></tr>
<tr><td class="h">369</td><td colspan="7"></td></tr><tr><td class="h">370 - 387</td><td colspan="6"></td><td class="s"><pre>=head2 Using class and accessors

You can pass key-value pairs to new, and can get and set value.

    use Book;
    
    # create object
    my $book = Book-&gt;new(
        title =&gt; &#39;OO tutorial&#39;,
    );
    
    # get value
    my $title = $book-&gt;title;
    
    # set value
    $book-&gt;title( &#39;The simplest OO&#39; );

=cut</pre></td></tr>
<tr><td class="h">388</td><td colspan="7"></td></tr><tr><td class="h">389 - 396</td><td colspan="6"></td><td class="s"><pre>=head2 Automatically array convert

If you pass array to accessor, array convert to array ref.

    $book-&gt;title( &#39;a&#39;, &#39;b&#39; );
    $book-&gt;title; # get [ &#39;a&#39;, &#39;b&#39; ], not ( &#39;a&#39;, &#39;b&#39; )

=cut</pre></td></tr>
<tr><td class="h">397</td><td colspan="7"></td></tr><tr><td class="h">398 - 406</td><td colspan="6"></td><td class="s"><pre>=head2 Accessor options

=head3 default option

You can define default value of attribute.

    sub title{ ac default =&gt; &#39;Perl is very interesting&#39; }

=cut</pre></td></tr>
<tr><td class="h">407</td><td colspan="7"></td></tr><tr><td class="h">408 - 440</td><td colspan="6"></td><td class="s"><pre>=head3 constrain option

you can constrain setting value.

    sub price{ ac constrain =&gt; sub{ /^\d+$/ } }

For example, If you call $book-&gt;price( &#39;a&#39; ), this call is die, because &#39;a&#39; is not number.

&#39;a&#39; is set to $_. so if you can use regular expression, omit $_.

you can write not omiting $_.

    sub price{ ac constrain =&gt; sub{ $_ &gt; 0 &amp;&amp; $_ &lt; 3 } }

If you display your message when program is die, you call craok.
    
    use Carp;
    sub price{ ac constrain =&gt; sub{ $_ &gt; 0 &amp;&amp; $_ &lt; 3 or croak &quot;Illegal value&quot; } }

and &#39;a&#39; is alse set to first argument. So you can receive &#39;a&#39; as first argument.

   sub price{ ac constrain =&gt; \&amp;_is_number }
   
   sub _is_number{
       my $val = shift;
       return $val =~ /^\d+$/;
   }

and you can define more than one constrain.

    sub price{ ac constrain =&gt; [ \&amp;_is_number, \&amp;_is_non_zero ] }

=cut</pre></td></tr>
<tr><td class="h">441</td><td colspan="7"></td></tr><tr><td class="h">442 - 454</td><td colspan="6"></td><td class="s"><pre>=head3 filter option

you can filter setting value.

    sub description{ ac filter =&gt; sub{ uc } }

setting value is $_ and frist argument like constrain.

and you can define more than one filter.

    sub description{ ac filter =&gt; [ \&amp;uc, \&amp;quoute ] }

=cut</pre></td></tr>
<tr><td class="h">455</td><td colspan="7"></td></tr><tr><td class="h">456 - 477</td><td colspan="6"></td><td class="s"><pre>=head3 trigger option

You can define subroutine called after value is set.

For example, issue_datetime is set, issue_date is update.

$self is set to $_ and $_[0] different from constrain and filter.

    sub issue_datetime{ ac trigger =&gt; \&amp;update_issue_date }
    sub issue_date{ ac }
    
    sub update_issue_date{
        my $self = shift;
        my $date = substr( $self-&gt;issue_datetime, 0, 10 );
        $self-&gt;issue_date( $date );
    }

and you can define more than one trigger.

    sub issue_datetime{ ac trigger =&gt; [ \&amp;update_issue_date, \&amp;update_issue_time ] }

=cut</pre></td></tr>
<tr><td class="h">478</td><td colspan="7"></td></tr><tr><td class="h">479 - 503</td><td colspan="6"></td><td class="s"><pre>=head3 read_only option

Read only accessor is defined

    sub get_size{ ac default =&gt; 5, read_only =&gt; 1 }

Accessor name should be contain &#39;get_&#39;. If not, warning is happen.

=head3 hash_force option

If you pass array to accessor, Normally list convert to array ref.
    $book-&gt;title( &#39;a&#39; , &#39;b&#39; ); # convert to [ &#39;a&#39;, &#39;b&#39; ]

Even if you write
    $book-&gt;title( a =&gt; &#39;b&#39; )

( a =&gt; &#39;b&#39; ) converted to [ &#39;a&#39;, &#39;b&#39; ] 

If you use hash_force option, you convert list to hash ref

    sub country_id{ ac hash_force =&gt; 1 }

    $book-&gt;title( a =&gt; &#39;b&#39; ); # convert to { a =&gt; &#39;b&#39; }

=cut</pre></td></tr>
<tr><td class="h">504</td><td colspan="7"></td></tr><tr><td class="h">505 - 509</td><td colspan="6"></td><td class="s"><pre>=head3 set_hook option

set_hook option is now not recommended. this option will be deleted in future 2019/01/01

=cut</pre></td></tr>
<tr><td class="h">510</td><td colspan="7"></td></tr><tr><td class="h">511 - 515</td><td colspan="6"></td><td class="s"><pre>=head3 get_hook option

get_hook option is now not recommended. this option will be deleted in future 2019/01/01

=cut</pre></td></tr>
<tr><td class="h">516</td><td colspan="7"></td></tr><tr><td class="h">517 - 537</td><td colspan="6"></td><td class="s"><pre>=head2 Order of constrain, filter and trigger

=over 4

=item 1. val is passed to constrain subroutine.

=item 2. val is passed to filter subroutine.

=item 3. val is set

=item 4. trigger subroutine is called

=back

       |---------|   |------|                  |-------| 
       |         |   |      |                  |       | 
 val--&gt;|constrain|--&gt;|filter|--&gt;(val is set)--&gt;|trigger| 
       |         |   |      |                  |       | 
       |---------|   |------|                  |-------| 

=cut</pre></td></tr>
<tr><td class="h">538</td><td colspan="7"></td></tr><tr><td class="h">539 - 546</td><td colspan="6"></td><td class="s"><pre>=head2 Get old value

You can get old value when you use accessor as setter.

    $book-&gt;author( &#39;Ken&#39; );
    my $old_value = $book-&gt;author( &#39;Taro&#39; ); # $old_value is &#39;Ken&#39;

=cut</pre></td></tr>
<tr><td class="h">547</td><td colspan="7"></td></tr><tr><td class="h">548 - 554</td><td colspan="6"></td><td class="s"><pre>=head1 FUNCTIONS

=head2 ac

ac is exported. This is used by define accessor. 

=cut</pre></td></tr>
<tr><td class="h">555</td><td colspan="7"></td></tr><tr><td class="h">556 - 560</td><td colspan="6"></td><td class="s"><pre>=head2 new

orveridable new method.

=cut</pre></td></tr>
<tr><td class="h">561</td><td colspan="7"></td></tr><tr><td class="h">562</td><td colspan="7"></td></tr><tr><td class="h">563 - 597</td><td colspan="6"></td><td class="s"><pre>=head1 MORE TECHNIQUES

I teach you useful techniques.

=head2 New method overriding

by default, new method receive key-value pairs.
But you can change this action by overriding new method.

For example, Point class. You want to call new method this way.

    my $point = Point-&gt;new( 3, 5 ); # xPos and yPos

You can override new method.
    
    package Point;
    use Simo;

    sub new{
        my ( $self, $x, $y ) = @_; # two arg( not key-value pairs )
        
        # You can do anything if you need
        
        return $self-&gt;SUPER::new( x =&gt; $x, y =&gt; $y );
    }

    sub x{ ac }
    sub y{ ac }
    1;

Simo implement inheritable new method.
Whenever You change argments or add initializetion,
You override new method.

=cut</pre></td></tr>
<tr><td class="h">598</td><td colspan="7"></td></tr><tr><td class="h">599 - 637</td><td colspan="6"></td><td class="s"><pre>=head2 Extend base class

you may want to extend base class. It is OK.

But I should say to you that there are one thing you should know.
The order of Inheritance is very important.

I write good sample and bad sample.

    # base class
    package Book;
    sub title{ ac };
    
    # Good sample.
    # inherit base class. It is OK!
    package Magazine;
    use base &#39;Book&#39;; # use base is first
    use Simo;        # use Simo is second;
    
    # Bad sample
    package Magazine;
    use Simo;          # use Simo is first
    use base &#39;Book&#39;;   # use base is second

If you call new method in Good sample, you call Book::new method.
This is what you wanto to do.

If you call new method in Bad sample, you call Simo::new method. 
you will think why Book::new method is not called?

Maybe, You will be wrong sometime. So I recomend you the following writing.

    package Magazine; use base &#39;Book&#39;; # package and base class
    use Simo;                          

It is like other language class Definition and I think looking is not bat.
and you are not likely to choose wrong order.

=cut</pre></td></tr>
<tr><td class="h">638</td><td colspan="7"></td></tr><tr><td class="h">639 - 647</td><td colspan="6"></td><td class="s"><pre>=head1 CAUTION

set_hook and get_hook option is now not recomended. these option will be deleted in future 2019/01/01

and non named defalut value definition is not recommended. this expression cannot be available in future 2019/01/01

    sub title{ ac &#39;OO tutorial&#39; } # not recommend. cannot be available in future.

=cut</pre></td></tr>
<tr><td class="h">648</td><td colspan="7"></td></tr><tr><td class="h">649 - 701</td><td colspan="6"></td><td class="s"><pre>=head1 AUTHOR

Yuki Kimoto, C&lt;&lt; &lt;kimoto.yuki at gmail.com&gt; &gt;&gt;

=head1 BUGS

Please report any bugs or feature requests to C&lt;bug-simo at rt.cpan.org&gt;, or through
the web interface at L&lt;http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Simo&gt;.  I will be notified, and then you&#39;ll
automatically be notified of progress on your bug as I make changes.

=head1 SUPPORT

You can find documentation for this module with the perldoc command.

    perldoc Simo


You can also look for information at:

=over 4

=item * RT: CPAN&#39;s request tracker

L&lt;http://rt.cpan.org/NoAuth/Bugs.html?Dist=Simo&gt;

=item * AnnoCPAN: Annotated CPAN documentation

L&lt;http://annocpan.org/dist/Simo&gt;

=item * CPAN Ratings

L&lt;http://cpanratings.perl.org/d/Simo&gt;

=item * Search CPAN

L&lt;http://search.cpan.org/dist/Simo/&gt;

=back


=head1 SEE ALSO

L&lt;Class::Accessor&gt;,L&lt;Class::Accessor::Fast&gt;, L&lt;Moose&gt;, L&lt;Mouse&gt;.

=head1 COPYRIGHT &amp; LICENSE

Copyright 2008 Yuki Kimoto, all rights reserved.

This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.


=cut</pre></td></tr>
<tr><td class="h">702</td><td colspan="7"></td></tr><tr><td class="h">703</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">1; # End of Simo</td></tr>
</table>
</body>
</html>
